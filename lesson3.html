<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ตอนที่ 3: วงจรไฟฟ้าอย่างง่ายกับ LED</title>
    <link rel="stylesheet" href="lesson1-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <i class="fas fa-arrow-left"></i>
                <div class="nav-title">
                    <h1>ตอนที่ 3: วงจรไฟฟ้าอย่างง่ายกับ LED</h1>
                </div>
            </a>
            <div class="nav-progress">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 75%;"></div>
                </div>
                <span>75%</span>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Learning Objectives -->
        <section class="objectives-section">
            <div class="section-header">
                <h2><i class="fas fa-bullseye"></i> จุดประสงค์การเรียนรู้</h2>
            </div>
            <div class="objectives-grid">
                <div class="objective-item">
                    <div class="objective-number">1</div>
                    <div class="objective-text">เข้าใจหลักการทำงานและโครงสร้างของ LED</div>
                    <div class="objective-status"><i class="fas fa-circle"></i></div>
                </div>
                <div class="objective-item">
                    <div class="objective-number">2</div>
                    <div class="objective-text">จำแนกขั้วไฟฟ้าของ LED ได้ถูกต้อง</div>
                    <div class="objective-status"><i class="fas fa-circle"></i></div>
                </div>
                <div class="objective-item">
                    <div class="objective-number">3</div>
                    <div class="objective-text">ต่อ LED ในวงจรไฟฟ้าได้อย่างถูกต้อง</div>
                    <div class="objective-status"><i class="fas fa-circle"></i></div>
                </div>
                <div class="objective-item">
                    <div class="objective-number">4</div>
                    <div class="objective-text">เข้าใจความสำคัญของตัวต้านทานในวงจร LED</div>
                    <div class="objective-status"><i class="fas fa-circle"></i></div>
                </div>
            </div>
        </section>

        <!-- Introduction to LED -->
        <section class="intro-section">
            <div class="section-header">
                <h2><i class="fas fa-lightbulb"></i> ทำความรู้จักกับ LED</h2>
                <p>ไดโอดเปล่งแสง (Light Emitting Diode)</p>
            </div>
            <div class="intro-content">
                <div class="intro-text">
                    <h3>LED คืออะไร?</h3>
                    <p><strong>LED (Light Emitting Diode)</strong> หรือ <strong>ไดโอดเปล่งแสง</strong> เป็นชิ้นส่วนอิเล็กทรอนิกส์ที่เปลี่ยนพลังงานไฟฟ้าเป็นพลังงานแสงอย่างมีประสิทธิภาพ</p>
                    
                    <div class="component-list">
                        <div class="component-item">
                            <i class="fas fa-bolt" style="color: #52c41a;"></i>
                            <div>
                                <strong>หลักการทำงาน</strong>
                                <p>เมื่อกระแสไฟฟ้าไหลผ่านในทิศทางที่ถูกต้อง LED จะเปล่งแสง</p>
                            </div>
                        </div>
                        <div class="component-item">
                            <i class="fas fa-arrows-alt-h" style="color: #1890ff;"></i>
                            <div>
                                <strong>ทิศทางการนำไฟฟ้า</strong>
                                <p>LED นำไฟฟ้าได้เฉพาะทิศทางเดียว (Unidirectional)</p>
                            </div>
                        </div>
                        <div class="component-item">
                            <i class="fas fa-palette" style="color: #fa8c16;"></i>
                            <div>
                                <strong>ความหลากหลายของสี</strong>
                                <p>มี LED หลายสี แต่ละสีต้องการแรงดันไฟฟ้าที่แตกต่างกัน</p>
                            </div>
                        </div>
                    </div>

                    <div class="important-note">
                        <i class="fas fa-exclamation-triangle"></i>
                        <span><strong>สำคัญ:</strong> LED ต้องต่อขั้วให้ถูกต้อง หากต่อผิดขั้วจะไม่ทำงาน</span>
                    </div>
                </div>
                
                <div class="circuit-demo">
                    <div class="demo-title">โครงสร้างของ LED</div>
                    <div class="led-structure-container">
                        <svg class="led-structure-svg" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                            <!-- LED Body -->
                            <circle cx="200" cy="150" r="60" fill="url(#ledGradient)" stroke="#333" stroke-width="3"/>
                            
                            <!-- LED Leads -->
                            <line x1="140" y1="150" x2="60" y2="150" stroke="#666" stroke-width="8" stroke-linecap="round"/>
                            <line x1="260" y1="150" x2="340" y2="150" stroke="#666" stroke-width="8" stroke-linecap="round"/>
                            
                            <!-- Longer lead indicator -->
                            <line x1="260" y1="150" x2="290" y2="120" stroke="#ff4d4f" stroke-width="3" stroke-dasharray="5,5"/>
                            <text x="295" y="115" font-size="12" fill="#ff4d4f" font-weight="bold">ขาที่ยาวกว่า</text>
                            <text x="295" y="130" font-size="12" fill="#ff4d4f">ขั้วบวก (+)</text>
                            
                            <!-- Shorter lead indicator -->
                            <line x1="140" y1="150" x2="110" y2="180" stroke="#1890ff" stroke-width="3" stroke-dasharray="5,5"/>
                            <text x="60" y="195" font-size="12" fill="#1890ff" font-weight="bold">ขาที่สั้นกว่า</text>
                            <text x="75" y="210" font-size="12" fill="#1890ff">ขั้วลบ (-)</text>
                            
                            <!-- LED Symbol -->
                            <g transform="translate(200, 250)">
                                <text x="-50" y="0" font-size="14" font-weight="bold" fill="#666">สัญลักษณ์ LED:</text>
                                <!-- Diode triangle -->
                                <polygon points="0,10 20,0 20,20" fill="none" stroke="#333" stroke-width="2"/>
                                <!-- Diode line -->
                                <line x1="20" y1="-5" x2="20" y2="25" stroke="#333" stroke-width="2"/>
                                <!-- Arrows for light -->
                                <path d="M 25,5 L 35,0 M 30,0 L 35,0 L 30,5" stroke="#ffa500" stroke-width="2" fill="none"/>
                                <path d="M 30,15 L 40,10 M 35,10 L 40,10 L 35,15" stroke="#ffa500" stroke-width="2" fill="none"/>
                                <!-- Leads -->
                                <line x1="-10" y1="10" x2="0" y2="10" stroke="#666" stroke-width="2"/>
                                <line x1="20" y1="10" x2="30" y2="10" stroke="#666" stroke-width="2"/>
                            </g>
                            
                            <!-- Gradients -->
                            <defs>
                                <radialGradient id="ledGradient" cx="0.3" cy="0.3">
                                    <stop offset="0%" stop-color="#ffeb3b"/>
                                    <stop offset="100%" stop-color="#ff9800"/>
                                </radialGradient>
                            </defs>
                        </svg>
                    </div>
                </div>
            </div>
        </section>

        <!-- LED Polarity Demo -->
        <section class="polarity-section">
            <div class="section-header">
                <h2><i class="fas fa-exchange-alt"></i> การต่อขั้วของ LED</h2>
                <p>ทดลองการต่อ LED ในทิศทางที่ถูกต้องและผิด</p>
            </div>
            
            <div class="polarity-demo-container">
                <div class="polarity-demo">
                    <h3>การต่อที่ถูกต้อง (Forward Bias)</h3>
                    <div class="circuit-simulator">
                        <div class="circuit-diagram-container">
                            <svg class="circuit-svg" viewBox="0 0 500 200" xmlns="http://www.w3.org/2000/svg">
                                <!-- Background -->
                                <rect x="0" y="0" width="500" height="200" fill="#f8f9ff" stroke="#e8e8e8" stroke-width="1" rx="8"/>
                                
                                <!-- Battery -->
                                <g class="sim-battery active" transform="translate(50, 100)">
                                    <rect x="-20" y="-15" width="40" height="30" fill="#66BB6A" rx="4"/>
                                    <text x="0" y="5" text-anchor="middle" fill="white" font-size="12" font-weight="bold">3V</text>
                                    <text x="-30" y="5" text-anchor="middle" font-size="16">+</text>
                                    <text x="30" y="5" text-anchor="middle" font-size="16">-</text>
                                    <text x="0" y="-30" text-anchor="middle" font-size="12" fill="#666">ถ่านไฟฉาย</text>
                                </g>
                                
                                <!-- Wire from battery positive -->
                                <line class="sim-wire active" x1="70" y1="100" x2="150" y2="100" stroke="#2196F3" stroke-width="4"/>
                                
                                <!-- Resistor -->
                                <g class="resistor" transform="translate(170, 100)">
                                    <rect x="-20" y="-8" width="40" height="16" fill="white" stroke="#8B4513" stroke-width="2" rx="2"/>
                                    <path d="M-20,-8 L-15,-12 L-10,-4 L-5,-12 L0,-4 L5,-12 L10,-4 L15,-12 L20,-8" stroke="#8B4513" stroke-width="2" fill="none"/>
                                    <text x="0" y="-25" text-anchor="middle" font-size="10" fill="#666">220Ω</text>
                                </g>
                                
                                <!-- Wire from resistor to LED -->
                                <line class="sim-wire active" x1="190" y1="100" x2="250" y2="100" stroke="#2196F3" stroke-width="4"/>
                                
                                <!-- LED (Forward bias) -->
                                <g class="led-forward" transform="translate(280, 100)">
                                    <!-- LED body -->
                                    <circle cx="0" cy="0" r="25" fill="#FFF9C4" stroke="#FFD700" stroke-width="3"/>
                                    <!-- LED symbol inside -->
                                    <polygon points="-8,8 8,0 -8,-8" fill="#FFD700" stroke="#FF8F00" stroke-width="1"/>
                                    <line x1="8" y1="-10" x2="8" y2="10" stroke="#FF8F00" stroke-width="2"/>
                                    <!-- Light rays -->
                                    <path d="M 15,0 L 25,-5 M 20,-5 L 25,-5 L 20,0" stroke="#ffa500" stroke-width="2" fill="none"/>
                                    <path d="M 15,8 L 25,3 M 20,3 L 25,3 L 20,8" stroke="#ffa500" stroke-width="2" fill="none"/>
                                    <path d="M 15,-8 L 25,-13 M 20,-13 L 25,-13 L 20,-8" stroke="#ffa500" stroke-width="2" fill="none"/>
                                    
                                    <text x="0" y="-40" text-anchor="middle" font-size="12" fill="#666" font-weight="bold">LED สว่าง</text>
                                    <text x="0" y="50" text-anchor="middle" font-size="10" fill="#52c41a">ขั้วบวกต่อขั้วบวก</text>
                                </g>
                                
                                <!-- Wire from LED to battery negative -->
                                <line class="sim-wire active" x1="305" y1="100" x2="380" y2="100" stroke="#2196F3" stroke-width="4"/>
                                <line class="sim-wire active" x1="380" y1="100" x2="380" y2="140" stroke="#2196F3" stroke-width="4"/>
                                <line class="sim-wire active" x1="380" y1="140" x2="50" y2="140" stroke="#2196F3" stroke-width="4"/>
                                <line class="sim-wire active" x1="50" y1="140" x2="50" y2="115" stroke="#2196F3" stroke-width="4"/>
                                
                                <!-- Current flow animation -->
                                <circle class="current-dot active" r="4" fill="#FF5722">
                                    <animateMotion dur="3s" repeatCount="indefinite">
                                        <path d="M 70,100 L 150,100 L 190,100 L 250,100 L 305,100 L 380,100 L 380,140 L 50,140 L 50,115"/>
                                    </animateMotion>
                                </circle>
                                
                                <!-- Voltage labels -->
                                <text x="170" y="80" text-anchor="middle" font-size="10" fill="#666">~1.5V ข้าม R</text>
                                <text x="280" y="80" text-anchor="middle" font-size="10" fill="#666">~1.5V ข้าม LED</text>
                            </svg>
                        </div>
                    </div>
                </div>
                
                <div class="polarity-demo">
                    <h3>การต่อที่ผิด (Reverse Bias)</h3>
                    <div class="circuit-simulator">
                        <div class="circuit-diagram-container">
                            <svg class="circuit-svg" viewBox="0 0 500 200" xmlns="http://www.w3.org/2000/svg">
                                <!-- Background -->
                                <rect x="0" y="0" width="500" height="200" fill="#f8f9ff" stroke="#e8e8e8" stroke-width="1" rx="8"/>
                                
                                <!-- Battery -->
                                <g class="sim-battery" transform="translate(50, 100)">
                                    <rect x="-20" y="-15" width="40" height="30" fill="#4CAF50" rx="4"/>
                                    <text x="0" y="5" text-anchor="middle" fill="white" font-size="12" font-weight="bold">3V</text>
                                    <text x="-30" y="5" text-anchor="middle" font-size="16">+</text>
                                    <text x="30" y="5" text-anchor="middle" font-size="16">-</text>
                                    <text x="0" y="-30" text-anchor="middle" font-size="12" fill="#666">ถ่านไฟฉาย</text>
                                </g>
                                
                                <!-- Wire from battery positive -->
                                <line class="sim-wire" x1="70" y1="100" x2="150" y2="100" stroke="#ccc" stroke-width="4"/>
                                
                                <!-- Resistor -->
                                <g class="resistor" transform="translate(170, 100)">
                                    <rect x="-20" y="-8" width="40" height="16" fill="white" stroke="#8B4513" stroke-width="2" rx="2"/>
                                    <path d="M-20,-8 L-15,-12 L-10,-4 L-5,-12 L0,-4 L5,-12 L10,-4 L15,-12 L20,-8" stroke="#8B4513" stroke-width="2" fill="none"/>
                                    <text x="0" y="-25" text-anchor="middle" font-size="10" fill="#666">220Ω</text>
                                </g>
                                
                                <!-- Wire from resistor to LED -->
                                <line class="sim-wire" x1="190" y1="100" x2="250" y2="100" stroke="#ccc" stroke-width="4"/>
                                
                                <!-- LED (Reverse bias) -->
                                <g class="led-reverse" transform="translate(280, 100)">
                                    <!-- LED body (dark) -->
                                    <circle cx="0" cy="0" r="25" fill="white" stroke="#ccc" stroke-width="3"/>
                                    <!-- LED symbol inside (reversed) -->
                                    <polygon points="8,8 -8,0 8,-8" fill="#ccc" stroke="#666" stroke-width="1"/>
                                    <line x1="-8" y1="-10" x2="-8" y2="10" stroke="#666" stroke-width="2"/>
                                    <!-- X mark to show no light -->
                                    <path d="M -15,-15 L 15,15 M -15,15 L 15,-15" stroke="#ff4d4f" stroke-width="3"/>
                                    
                                    <text x="0" y="-40" text-anchor="middle" font-size="12" fill="#666" font-weight="bold">LED ดับ</text>
                                    <text x="0" y="50" text-anchor="middle" font-size="10" fill="#ff4d4f">ขั้วต่อผิด</text>
                                </g>
                                
                                <!-- Wire from LED to battery negative -->
                                <line class="sim-wire" x1="305" y1="100" x2="380" y2="100" stroke="#ccc" stroke-width="4"/>
                                <line class="sim-wire" x1="380" y1="100" x2="380" y2="140" stroke="#ccc" stroke-width="4"/>
                                <line class="sim-wire" x1="380" y1="140" x2="50" y2="140" stroke="#ccc" stroke-width="4"/>
                                <line class="sim-wire" x1="50" y1="140" x2="50" y2="115" stroke="#ccc" stroke-width="4"/>
                                
                                <!-- No current flow - blocked -->
                                <text x="250" y="160" text-anchor="middle" font-size="12" fill="#ff4d4f" font-weight="bold">⚠️ ไม่มีกระแสไฟฟ้าไหล</text>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Interactive LED Testing -->
        <section class="led-testing-section">
            <div class="section-header">
                <h2><i class="fas fa-vial"></i> ทดลอง LED แบบ Interactive</h2>
                <p>คลิกเพื่อสลับขั้วของ LED และดูผลลัพธ์</p>
            </div>
            
            <div class="circuit-simulator">
                <div class="simulator-title">จำลองการต่อ LED</div>
                <div class="circuit-diagram-container">
                    <svg class="circuit-svg" viewBox="0 0 600 250" xmlns="http://www.w3.org/2000/svg">
                        <!-- Background -->
                        <rect x="0" y="0" width="600" height="250" fill="#f8f9ff" stroke="#e8e8e8" stroke-width="1" rx="8"/>
                        
                        <!-- Battery -->
                        <g class="sim-battery active" transform="translate(50, 125)">
                            <rect x="-25" y="-20" width="50" height="40" fill="#66BB6A" rx="4"/>
                            <text x="0" y="6" text-anchor="middle" fill="white" font-size="14" font-weight="bold">3V</text>
                            <text x="-35" y="6" text-anchor="middle" font-size="18">+</text>
                            <text x="35" y="6" text-anchor="middle" font-size="18">-</text>
                            <text x="0" y="-35" text-anchor="middle" font-size="12" fill="#666">ถ่านไฟฉาย</text>
                        </g>
                        
                        <!-- Wire from battery -->
                        <line class="test-wire wire-1" x1="75" y1="125" x2="150" y2="125" stroke="#666" stroke-width="5"/>
                        
                        <!-- Resistor -->
                        <g class="resistor" transform="translate(180, 125)">
                            <rect x="-25" y="-10" width="50" height="20" fill="white" stroke="#8B4513" stroke-width="3" rx="3"/>
                            <path d="M-25,-10 L-18,-15 L-12,-5 L-6,-15 L0,-5 L6,-15 L12,-5 L18,-15 L25,-10" stroke="#8B4513" stroke-width="3" fill="none"/>
                            <text x="0" y="-28" text-anchor="middle" font-size="12" fill="#666" font-weight="bold">220Ω</text>
                            <text x="0" y="35" text-anchor="middle" font-size="10" fill="#666">ตัวต้านทาน</text>
                        </g>
                        
                        <!-- Wire from resistor to LED -->
                        <line class="test-wire wire-2" x1="205" y1="125" x2="280" y2="125" stroke="#666" stroke-width="5"/>
                        
                        <!-- Interactive LED -->
                        <g class="interactive-led" id="testLED" transform="translate(320, 125)" style="cursor: pointer;">
                            <circle id="ledBody" cx="0" cy="0" r="30" fill="white" stroke="#ccc" stroke-width="4"/>
                            <polygon id="ledSymbol" points="-10,10 10,0 -10,-10" fill="#ccc" stroke="#666" stroke-width="2"/>
                            <line id="ledCathode" x1="10" y1="-12" x2="10" y2="12" stroke="#666" stroke-width="3"/>
                            
                            <!-- Light rays (hidden initially) -->
                            <g id="lightRays" style="opacity: 0;">
                                <path d="M 20,0 L 35,-8 M 28,-8 L 35,-8 L 28,-3" stroke="#ffa500" stroke-width="3" fill="none"/>
                                <path d="M 20,10 L 35,2 M 28,2 L 35,2 L 28,7" stroke="#ffa500" stroke-width="3" fill="none"/>
                                <path d="M 20,-10 L 35,-18 M 28,-18 L 35,-18 L 28,-13" stroke="#ffa500" stroke-width="3" fill="none"/>
                            </g>
                            
                            <text x="0" y="-50" text-anchor="middle" font-size="14" fill="#666" font-weight="bold">คลิกเพื่อสลับขั้ว</text>
                            <text id="ledStatus" x="0" y="55" text-anchor="middle" font-size="12" fill="#ff4d4f" font-weight="bold">LED ดับ (ขั้วผิด)</text>
                        </g>
                        
                        <!-- Wire from LED -->
                        <line class="test-wire wire-3" x1="350" y1="125" x2="450" y2="125" stroke="#666" stroke-width="5"/>
                        
                        <!-- Return wire -->
                        <line class="test-wire wire-4" x1="450" y1="125" x2="450" y2="180" stroke="#666" stroke-width="5"/>
                        <line class="test-wire wire-5" x1="450" y1="180" x2="50" y2="180" stroke="#666" stroke-width="5"/>
                        <line class="test-wire wire-6" x1="50" y1="180" x2="50" y2="145" stroke="#666" stroke-width="5"/>
                        
                        <!-- Current flow dot -->
                        <circle class="test-current-dot" id="testCurrentDot" r="5" fill="#FF5722" opacity="0">
                            <animateMotion dur="4s" repeatCount="indefinite">
                                <path d="M 75,125 L 150,125 L 205,125 L 280,125 L 350,125 L 450,125 L 450,180 L 50,180 L 50,145"/>
                            </animateMotion>
                        </circle>
                        
                        <!-- Polarity indicators -->
                        <text x="300" y="90" text-anchor="middle" font-size="12" fill="#1890ff" id="ledPolarity">ขั้วลบ → ขั้วบวก</text>
                    </svg>
                </div>
                <div class="simulator-controls">
                    <button onclick="toggleLEDPolarity()" class="demo-btn">🔄 สลับขั้ว LED</button>
                    <button onclick="resetLEDTest()" class="demo-btn">🔄 รีเซ็ต</button>
                </div>
            </div>
        </section>

        <!-- LED Colors and Voltages -->
        <section class="led-colors-section">
            <div class="section-header">
                <h2><i class="fas fa-palette"></i> สี LED และแรงดันไฟฟ้า</h2>
                <p>LED แต่ละสีต้องการแรงดันไฟฟ้าที่แตกต่างกัน</p>
            </div>
            
            <div class="led-colors-container">
                <div class="color-comparison">
                    <div class="color-item" data-color="red">
                        <div class="color-led">
                            <div class="led-visual red-led"></div>
                            <h4>LED สีแดง</h4>
                        </div>
                        <div class="color-specs">
                            <div class="spec-item">
                                <span class="spec-label">แรงดันไฟฟ้า:</span>
                                <span class="spec-value">1.6 - 2.0 V</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">ใช้งาน:</span>
                                <span class="spec-value">แสดงสถานะ, ไฟเตือน</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="color-item" data-color="yellow">
                        <div class="color-led">
                            <div class="led-visual yellow-led"></div>
                            <h4>LED สีเหลือง</h4>
                        </div>
                        <div class="color-specs">
                            <div class="spec-item">
                                <span class="spec-label">แรงดันไฟฟ้า:</span>
                                <span class="spec-value">1.8 - 2.2 V</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">ใช้งาน:</span>
                                <span class="spec-value">ไฟเตือน, แสงส่องสว่าง</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="color-item" data-color="green">
                        <div class="color-led">
                            <div class="led-visual green-led"></div>
                            <h4>LED สีเขียว</h4>
                        </div>
                        <div class="color-specs">
                            <div class="spec-item">
                                <span class="spec-label">แรงดันไฟฟ้า:</span>
                                <span class="spec-value">1.9 - 4.0 V</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">ใช้งาน:</span>
                                <span class="spec-value">แสดงสถานะปกติ</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="color-item" data-color="blue">
                        <div class="color-led">
                            <div class="led-visual blue-led"></div>
                            <h4>LED สีน้ำเงิน</h4>
                        </div>
                        <div class="color-specs">
                            <div class="spec-item">
                                <span class="spec-label">แรงดันไฟฟ้า:</span>
                                <span class="spec-value">2.5 - 3.7 V</span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">ใช้งาน:</span>
                                <span class="spec-value">แสงสีขาว, แสงกลางคืน</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="interactive-color-demo">
                    <h3>ทดลองเปรียบเทียบ LED</h3>
                    <div class="color-demo-circuit">
                        <svg class="circuit-svg" viewBox="0 0 800 300" xmlns="http://www.w3.org/2000/svg">
                            <!-- Background -->
                            <rect x="0" y="0" width="800" height="300" fill="#f8f9ff" stroke="#e8e8e8" stroke-width="1" rx="8"/>
                            
                            <!-- Battery -->
                            <g class="sim-battery active" transform="translate(60, 150)">
                                <rect x="-30" y="-20" width="60" height="40" fill="#66BB6A" rx="4"/>
                                <text x="0" y="6" text-anchor="middle" fill="white" font-size="16" font-weight="bold">3V</text>
                                <text x="-40" y="6" text-anchor="middle" font-size="20">+</text>
                                <text x="40" y="6" text-anchor="middle" font-size="20">-</text>
                            </g>
                            
                            <!-- Switch -->
                            <g class="interactive-switch" id="colorSwitch" transform="translate(150, 150)" style="cursor: pointer;">
                                <circle cx="0" cy="0" r="15" fill="#666" stroke="#333" stroke-width="3"/>
                                <line id="colorSwitchLever" x1="-10" y1="0" x2="25" y2="-18" stroke="#ff4d4f" stroke-width="4"/>
                                <circle cx="25" cy="0" r="5" fill="#333"/>
                                <text x="0" y="-40" text-anchor="middle" font-size="12" fill="#666">คลิกเปิด/ปิด</text>
                            </g>
                            
                            <!-- Main wire -->
                            <line class="color-wire main-wire" x1="90" y1="150" x2="125" y2="150" stroke="#666" stroke-width="4"/>
                            <line class="color-wire main-wire" x1="175" y1="150" x2="200" y2="150" stroke="#666" stroke-width="4"/>
                            
                            <!-- Branch wires -->
                            <line class="color-wire branch-wire" x1="200" y1="150" x2="200" y2="80" stroke="#666" stroke-width="3"/>
                            <line class="color-wire branch-wire" x1="200" y1="150" x2="200" y2="110" stroke="#666" stroke-width="3"/>
                            <line class="color-wire branch-wire" x1="200" y1="150" x2="200" y2="190" stroke="#666" stroke-width="3"/>
                            <line class="color-wire branch-wire" x1="200" y1="150" x2="200" y2="220" stroke="#666" stroke-width="3"/>
                            
                            <!-- Horizontal wires to LEDs -->
                            <line class="color-wire branch-wire" x1="200" y1="80" x2="350" y2="80" stroke="#666" stroke-width="3"/>
                            <line class="color-wire branch-wire" x1="200" y1="110" x2="350" y2="110" stroke="#666" stroke-width="3"/>
                            <line class="color-wire branch-wire" x1="200" y1="190" x2="350" y2="190" stroke="#666" stroke-width="3"/>
                            <line class="color-wire branch-wire" x1="200" y1="220" x2="350" y2="220" stroke="#666" stroke-width="3"/>
                            
                            <!-- LEDs with resistors -->
                            <!-- Red LED -->
                            <g class="color-led-circuit" transform="translate(380, 80)">
                                <rect x="-15" y="-6" width="30" height="12" fill="white" stroke="#8B4513" stroke-width="2"/>
                                <text x="0" y="4" text-anchor="middle" font-size="8" fill="#666">220Ω</text>
                                <circle class="demo-led red-demo" cx="50" cy="0" r="20" fill="white" stroke="#ccc" stroke-width="2"/>
                                <text x="50" y="5" text-anchor="middle" font-size="12">💡</text>
                                <text x="50" y="-30" text-anchor="middle" font-size="10" fill="#ff4d4f" font-weight="bold">RED</text>
                                <text x="50" y="35" text-anchor="middle" font-size="9" fill="#666">1.8V</text>
                            </g>
                            
                            <!-- Yellow LED -->
                            <g class="color-led-circuit" transform="translate(380, 110)">
                                <rect x="-15" y="-6" width="30" height="12" fill="white" stroke="#8B4513" stroke-width="2"/>
                                <text x="0" y="4" text-anchor="middle" font-size="8" fill="#666">220Ω</text>
                                <circle class="demo-led yellow-demo" cx="50" cy="0" r="20" fill="white" stroke="#ccc" stroke-width="2"/>
                                <text x="50" y="5" text-anchor="middle" font-size="12">💡</text>
                                <text x="50" y="-30" text-anchor="middle" font-size="10" fill="#ffa500" font-weight="bold">YELLOW</text>
                                <text x="50" y="35" text-anchor="middle" font-size="9" fill="#666">2.0V</text>
                            </g>
                            
                            <!-- Green LED -->
                            <g class="color-led-circuit" transform="translate(380, 190)">
                                <rect x="-15" y="-6" width="30" height="12" fill="white" stroke="#8B4513" stroke-width="2"/>
                                <text x="0" y="4" text-anchor="middle" font-size="8" fill="#666">220Ω</text>
                                <circle class="demo-led green-demo" cx="50" cy="0" r="20" fill="white" stroke="#ccc" stroke-width="2"/>
                                <text x="50" y="5" text-anchor="middle" font-size="12">💡</text>
                                <text x="50" y="-30" text-anchor="middle" font-size="10" fill="#52c41a" font-weight="bold">GREEN</text>
                                <text x="50" y="35" text-anchor="middle" font-size="9" fill="#666">2.1V</text>
                            </g>
                            
                            <!-- Blue LED -->
                            <g class="color-led-circuit" transform="translate(380, 220)">
                                <rect x="-15" y="-6" width="30" height="12" fill="white" stroke="#8B4513" stroke-width="2"/>
                                <text x="0" y="4" text-anchor="middle" font-size="8" fill="#666">220Ω</text>
                                <circle class="demo-led blue-demo" cx="50" cy="0" r="20" fill="white" stroke="#ccc" stroke-width="2"/>
                                <text x="50" y="5" text-anchor="middle" font-size="12">💡</text>
                                <text x="50" y="-30" text-anchor="middle" font-size="10" fill="#1890ff" font-weight="bold">BLUE</text>
                                <text x="50" y="35" text-anchor="middle" font-size="9" fill="#666">3.1V</text>
                            </g>
                            
                            <!-- Return wires -->
                            <line class="color-wire return-wire" x1="450" y1="80" x2="580" y2="80" stroke="#666" stroke-width="3"/>
                            <line class="color-wire return-wire" x1="450" y1="110" x2="580" y2="110" stroke="#666" stroke-width="3"/>
                            <line class="color-wire return-wire" x1="450" y1="190" x2="580" y2="190" stroke="#666" stroke-width="3"/>
                            <line class="color-wire return-wire" x1="450" y1="220" x2="580" y2="220" stroke="#666" stroke-width="3"/>
                            
                            <!-- Merge return wires -->
                            <line class="color-wire return-wire" x1="580" y1="80" x2="580" y2="220" stroke="#666" stroke-width="3"/>
                            <line class="color-wire return-wire" x1="580" y1="150" x2="650" y2="150" stroke="#666" stroke-width="4"/>
                            <line class="color-wire return-wire" x1="650" y1="150" x2="650" y2="250" stroke="#666" stroke-width="4"/>
                            <line class="color-wire return-wire" x1="650" y1="250" x2="60" y2="250" stroke="#666" stroke-width="4"/>
                            <line class="color-wire return-wire" x1="60" y1="250" x2="60" y2="170" stroke="#666" stroke-width="4"/>
                        </svg>
                    </div>
                    <div class="simulator-controls">
                        <button onclick="toggleColorSwitch()" class="demo-btn">💡 เปิด/ปิด LED ทั้งหมด</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Resistor Importance -->
        <section class="resistor-section">
            <div class="section-header">
                <h2><i class="fas fa-shield-alt"></i> ความสำคัญของตัวต้านทาน</h2>
                <p>ทำไมต้องใช้ตัวต้านทานร่วมกับ LED</p>
            </div>
            
            <div class="resistor-comparison">
                <div class="comparison-item danger">
                    <h3>❌ ไม่มีตัวต้านทาน</h3>
                    <div class="circuit-simulator">
                        <div class="circuit-diagram-container">
                            <svg class="circuit-svg" viewBox="0 0 400 150" xmlns="http://www.w3.org/2000/svg">
                                <!-- Background -->
                                <rect x="0" y="0" width="400" height="150" fill="#fff2f0" stroke="#ff4d4f" stroke-width="2" rx="8"/>
                                
                                <!-- Battery -->
                                <g transform="translate(50, 75)">
                                    <rect x="-20" y="-15" width="40" height="30" fill="#ff4d4f" rx="4"/>
                                    <text x="0" y="5" text-anchor="middle" fill="white" font-size="12" font-weight="bold">3V</text>
                                    <text x="-30" y="5" text-anchor="middle" font-size="16">+</text>
                                    <text x="30" y="5" text-anchor="middle" font-size="16">-</text>
                                </g>
                                
                                <!-- Direct wire to LED -->
                                <line x1="70" y1="75" x2="150" y2="75" stroke="#ff4d4f" stroke-width="4"/>
                                
                                <!-- LED (burning out) -->
                                <g transform="translate(180, 75)">
                                    <circle cx="0" cy="0" r="25" fill="#ff6b6b" stroke="#ff4d4f" stroke-width="3"/>
                                    <text x="0" y="5" text-anchor="middle" font-size="20">⚡</text>
                                    <text x="0" y="-35" text-anchor="middle" font-size="10" fill="#ff4d4f" font-weight="bold">กระแสสูงเกินไป!</text>
                                </g>
                                
                                <!-- Return wire -->
                                <line x1="205" y1="75" x2="280" y2="75" stroke="#ff4d4f" stroke-width="4"/>
                                <line x1="280" y1="75" x2="280" y2="110" stroke="#ff4d4f" stroke-width="4"/>
                                <line x1="280" y1="110" x2="50" y2="110" stroke="#ff4d4f" stroke-width="4"/>
                                <line x1="50" y1="110" x2="50" y2="90" stroke="#ff4d4f" stroke-width="4"/>
                                
                                <!-- Warning -->
                                <text x="200" y="130" text-anchor="middle" font-size="12" fill="#ff4d4f" font-weight="bold">⚠️ LED อาจเสียหาย!</text>
                            </svg>
                        </div>
                    </div>
                    <div class="explanation">
                        <p><strong>ปัญหา:</strong> กระแสไฟฟ้าสูงเกินไป LED อาจร้อนและเสียหาย</p>
                        <p><strong>กระแส:</strong> อาจสูงถึง 15-20 mA หรือมากกว่า</p>
                    </div>
                </div>
                
                <div class="comparison-item safe">
                    <h3>✅ มีตัวต้านทาน</h3>
                    <div class="circuit-simulator">
                        <div class="circuit-diagram-container">
                            <svg class="circuit-svg" viewBox="0 0 400 150" xmlns="http://www.w3.org/2000/svg">
                                <!-- Background -->
                                <rect x="0" y="0" width="400" height="150" fill="#f6ffed" stroke="#52c41a" stroke-width="2" rx="8"/>
                                
                                <!-- Battery -->
                                <g transform="translate(50, 75)">
                                    <rect x="-20" y="-15" width="40" height="30" fill="#52c41a" rx="4"/>
                                    <text x="0" y="5" text-anchor="middle" fill="white" font-size="12" font-weight="bold">3V</text>
                                    <text x="-30" y="5" text-anchor="middle" font-size="16">+</text>
                                    <text x="30" y="5" text-anchor="middle" font-size="16">-</text>
                                </g>
                                
                                <!-- Wire to resistor -->
                                <line x1="70" y1="75" x2="110" y2="75" stroke="#52c41a" stroke-width="4"/>
                                
                                <!-- Resistor -->
                                <g transform="translate(130, 75)">
                                    <rect x="-15" y="-8" width="30" height="16" fill="white" stroke="#8B4513" stroke-width="2" rx="2"/>
                                    <path d="M-15,-8 L-10,-12 L-5,-4 L0,-12 L5,-4 L10,-12 L15,-8" stroke="#8B4513" stroke-width="2" fill="none"/>
                                    <text x="0" y="-20" text-anchor="middle" font-size="9" fill="#666">220Ω</text>
                                </g>
                                
                                <!-- Wire to LED -->
                                <line x1="145" y1="75" x2="170" y2="75" stroke="#52c41a" stroke-width="4"/>
                                
                                <!-- LED (working properly) -->
                                <g transform="translate(200, 75)">
                                    <circle cx="0" cy="0" r="25" fill="#FFF9C4" stroke="#FFD700" stroke-width="3"/>
                                    <text x="0" y="5" text-anchor="middle" font-size="16">💡</text>
                                    <text x="0" y="-35" text-anchor="middle" font-size="10" fill="#52c41a" font-weight="bold">ทำงานปกติ</text>
                                </g>
                                
                                <!-- Return wire -->
                                <line x1="225" y1="75" x2="300" y2="75" stroke="#52c41a" stroke-width="4"/>
                                <line x1="300" y1="75" x2="300" y2="110" stroke="#52c41a" stroke-width="4"/>
                                <line x1="300" y1="110" x2="50" y2="110" stroke="#52c41a" stroke-width="4"/>
                                <line x1="50" y1="110" x2="50" y2="90" stroke="#52c41a" stroke-width="4"/>
                                
                                <!-- Success -->
                                <text x="200" y="130" text-anchor="middle" font-size="12" fill="#52c41a" font-weight="bold">✅ LED ปลอดภัย!</text>
                            </svg>
                        </div>
                    </div>
                    <div class="explanation">
                        <p><strong>ข้อดี:</strong> จำกัดกระแสไฟฟ้าให้อยู่ในระดับที่เหมาะสม</p>
                        <p><strong>กระแส:</strong> ประมาณ 5-10 mA (ปลอดภัย)</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Quiz Section -->
        <section class="quiz-section">
            <div class="section-header">
                <h2><i class="fas fa-question-circle"></i> แบบทดสอบความเข้าใจ</h2>
            </div>
            
            <div class="quiz-container">
                <div class="quiz-question" id="quizQuestion1">
                    <h3>คำถามที่ 1</h3>
                    <p>ขั้วไฟฟ้าของ LED แยกได้อย่างไร?</p>
                    <div class="quiz-options">
                        <div class="quiz-option" data-correct="true">
                            <input type="radio" name="quiz1" id="quiz1a" value="a">
                            <label for="quiz1a">ขาที่ยาวกว่าเป็นขั้วบวก (+) ขาที่สั้นกว่าเป็นขั้วลบ (-)</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="quiz1" id="quiz1b" value="b">
                            <label for="quiz1b">ขาที่สั้นกว่าเป็นขั้วบวก (+) ขาที่ยาวกว่าเป็นขั้วลบ (-)</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="quiz1" id="quiz1c" value="c">
                            <label for="quiz1c">ขั้วไม่สำคัญ ต่อทิศทางไหนก็ได้</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="quizFeedback1"></div>
                </div>

                <div class="quiz-question" id="quizQuestion2">
                    <h3>คำถามที่ 2</h3>
                    <p>ทำไมต้องใช้ตัวต้านทานร่วมกับ LED?</p>
                    <div class="quiz-options">
                        <div class="quiz-option" data-correct="true">
                            <input type="radio" name="quiz2" id="quiz2a" value="a">
                            <label for="quiz2a">เพื่อจำกัดกระแสไฟฟ้าและป้องกัน LED เสียหาย</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="quiz2" id="quiz2b" value="b">
                            <label for="quiz2b">เพื่อให้ LED ส่องสว่างมากขึ้น</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="quiz2" id="quiz2c" value="c">
                            <label for="quiz2c">เพื่อประหยัดไฟ</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="quizFeedback2"></div>
                </div>

                <div class="quiz-question" id="quizQuestion3">
                    <h3>คำถามที่ 3</h3>
                    <p>LED สีใดต้องการแรงดันไฟฟ้าสูงที่สุด?</p>
                    <div class="quiz-options">
                        <div class="quiz-option">
                            <input type="radio" name="quiz3" id="quiz3a" value="a">
                            <label for="quiz3a">สีแดง (1.6-2.0V)</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="quiz3" id="quiz3b" value="b">
                            <label for="quiz3b">สีเขียว (1.9-4.0V)</label>
                        </div>
                        <div class="quiz-option" data-correct="true">
                            <input type="radio" name="quiz3" id="quiz3c" value="c">
                            <label for="quiz3c">สีน้ำเงิน (2.5-3.7V)</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="quizFeedback3"></div>
                </div>

                <div class="quiz-question" id="quizQuestion4">
                    <h3>คำถามที่ 4</h3>
                    <p>หาก LED ต่อขั้วผิด จะเกิดอะไรขึ้น?</p>
                    <div class="quiz-options">
                        <div class="quiz-option">
                            <input type="radio" name="quiz4" id="quiz4a" value="a">
                            <label for="quiz4a">LED จะส่องสว่างแต่สีจะผิด</label>
                        </div>
                        <div class="quiz-option" data-correct="true">
                            <input type="radio" name="quiz4" id="quiz4b" value="b">
                            <label for="quiz4b">LED จะไม่ส่องสว่าง เพราะกระแสไฟฟ้าไหลผ่านไม่ได้</label>
                        </div>
                        <div class="quiz-option">
                            <input type="radio" name="quiz4" id="quiz4c" value="c">
                            <label for="quiz4c">LED จะเสียหายทันที</label>
                        </div>
                    </div>
                    <div class="quiz-feedback" id="quizFeedback4"></div>
                </div>
            </div>
            
            <div class="quiz-score" id="quizScore" style="display: none;">
                <h3>ผลคะแนน</h3>
                <p id="scoreText"></p>
                <button onclick="resetQuiz()" class="reset-btn">ทำแบบทดสอบใหม่</button>
            </div>
        </section>

        <!-- Summary -->
        <section class="summary-section">
            <div class="section-header">
                <h2><i class="fas fa-clipboard-check"></i> สรุป</h2>
            </div>
            
            <div class="summary-grid">
                <div class="summary-item">
                    <div class="summary-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="summary-text">
                        <h3>LED คืออะไร</h3>
                        <p>ไดโอดเปล่งแสงที่เปลี่ยนพลังงานไฟฟ้าเป็นพลังงานแสง มีการนำไฟฟ้าทิศทางเดียว</p>
                    </div>
                </div>
                
                <div class="summary-item">
                    <div class="summary-icon">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <div class="summary-text">
                        <h3>ขั้วของ LED</h3>
                        <p>ขาที่ยาวกว่าเป็นขั้วบวก (+) ขาที่สั้นกว่าเป็นขั้วลบ (-) ต้องต่อให้ถูกต้อง</p>
                    </div>
                </div>
                
                <div class="summary-item">
                    <div class="summary-icon">
                        <i class="fas fa-palette"></i>
                    </div>
                    <div class="summary-text">
                        <h3>สี LED</h3>
                        <p>แต่ละสีต้องการแรงดันไฟฟ้าที่แตกต่างกัน สีน้ำเงินต้องการแรงดันสูงที่สุด</p>
                    </div>
                </div>
                
                <div class="summary-item">
                    <div class="summary-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="summary-text">
                        <h3>ตัวต้านทาน</h3>
                        <p>จำเป็นต้องใช้ร่วมกับ LED เพื่อจำกัดกระแสไฟฟ้าและป้องกันความเสียหาย</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Navigation -->
        <section class="lesson-navigation">
            <div class="nav-buttons">
                <a href="lesson2.html" class="nav-btn prev">
                    <i class="fas fa-chevron-left"></i>
                    ตอนที่ 2: สวิตช์เปิด-ปิด
                </a>
                <a href="#" class="nav-btn next" style="opacity: 0.5; pointer-events: none;">
                    ตอนที่ 4: วงจรไฟฟ้ากับมอเตอร์
                    <i class="fas fa-chevron-right"></i>
                </a>
            </div>
        </section>
    </div>

    <!-- Completion Modal -->
    <div class="modal" id="completionModal">
        <div class="modal-content">
            <h3>🎉 ยินดีด้วย!</h3>
            <p>คุณได้เรียนจบตอนที่ 3: วงจรไฟฟ้าอย่างง่ายกับ LED เรียบร้อยแล้ว</p>
            <p>คุณได้เรียนรู้เกี่ยวกับ LED การต่อขั้ว และความสำคัญของตัวต้านทาน</p>
            <button onclick="closeModal()" class="modal-btn">ปิด</button>
        </div>
    </div>

    <script src="lesson3-script.js"></script>
</body>
</html>